# Experiment Configuration (FLEXIBLE)
# ====================================
# This file defines the DEFAULT configuration for experiments (E###).
# 
# All settings can be freely overridden - experiments are exploratory.
# Use this for testing new models, parameters, or approaches.

schema_version: "1.0"
config_type: "experiment"

# Client (can be changed)
client: "BFAI"

# Corpus (can use subsets)
corpus:
  file: "clients_qa_gold/BFAI/qa/QA_BFAI_gold_v1-0__q458.json"
  sample_size: 0  # 0 = full corpus, N = sample N questions

# Index
index:
  job_id: "bfai__eval66a_g1_1536_tt"

# Generator model (experiment with different models)
generator:
  model: "gemini-3-flash-preview"
  reasoning_effort: "low"  # low | high (no medium in Gemini 3)
  temperature: 0.0
  seed: 42  # Default seed (can be overridden for experiments)
  max_output_tokens: 8192

# Judge model
judge:
  model: "gemini-3-flash-preview"
  reasoning_effort: "low"  # low | high (no medium in Gemini 3)
  temperature: 0.0
  seed: 42  # Default seed (can be overridden for experiments)

# Retrieval settings (experiment with different K values)
retrieval:
  recall_k: 100  # Can be changed for experiments (e.g., 200)
  precision_k: 25
  enable_hybrid: true
  rrf_alpha: 0.5  # 50/50 hybrid weighting (keyword + semantic)
  enable_reranking: true
  ranking_model: "semantic-ranker-512@latest"

# Execution
execution:
  workers: 100  # Smart throttler limits to 20 concurrent via semaphore
  timeout_per_question_s: 120
  max_retries: 3

# Environment
environment:
  mode: "local"  # local | cloud
  cloud_endpoint: "https://bfai-api-ppfq5ahfsq-ue.a.run.app"

# Output
output:
  experiments_dir: "clients_eval_data/BFAI/experiments"
